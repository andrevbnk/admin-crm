(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/admin-crm/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isAuthenticated?n("v-app",{attrs:{id:"inspire"}},[n("v-app",{attrs:{id:"inspire"}},[n("Header"),n("v-main",[n("router-view")],1)],1)],1):n("div",[n("Login")],1)},i=[],o=n("5530"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[n("span",{staticClass:"hidden-sm-and-down"},[e._v("Панель адміністратора ")])])],1),n("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return[t.heading?n("v-row",{key:t.heading,attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[t.heading?n("v-subheader",[e._v(" "+e._s(t.heading)+" ")]):e._e()],1),n("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("Редагувати")])])],1):t.children?n("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(n){e.$set(t,"model",n)},expression:"item.model"}},e._l(t.children,(function(t,r){return n("v-list-item",{key:r,attrs:{link:"",to:t.link}},[t.icon?n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1):e._e(),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)})),1):n("v-list-item",{key:t.text,attrs:{link:"",to:t.link}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2)],1)],1)},c=[],l=n("2f62"),u={data:function(){return{drawer:null,items:[{icon:"mdi-folder-network-outline",text:"Дерево папок",link:"/folder-tree"},{icon:"mdi-family-tree",text:"Дерево",link:"/tree"}]}},computed:Object(o["a"])({},Object(l["c"])(["isAuthenticated"]))},d=u,f=n("2877"),p=n("6544"),v=n.n(p),m=n("40dc"),h=n("5bc1"),b=n("62ad"),g=n("132d"),w=n("8860"),x=n("56b0"),k=n("da13"),y=n("1800"),_=n("5d23"),O=n("f774"),V=n("0fd9"),S=n("e0c7"),T=n("2a7f"),C=Object(f["a"])(d,s,c,!1,null,null,null),j=C.exports;v()(C,{VAppBar:m["a"],VAppBarNavIcon:h["a"],VCol:b["a"],VIcon:g["a"],VList:w["a"],VListGroup:x["a"],VListItem:k["a"],VListItemAction:y["a"],VListItemContent:_["a"],VListItemTitle:_["c"],VNavigationDrawer:O["a"],VRow:V["a"],VSubheader:S["a"],VToolbarTitle:T["a"]});var A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-app",{attrs:{id:"inspire"}},[n("v-main",[n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center","align-content":"center"}},[n("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[e._v("Авторизація ")])],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Login",name:"login","prepend-icon":"mdi-account",type:"text"},model:{value:e.form.login,callback:function(t){e.$set(e.form,"login",t)},expression:"form.login"}}),n("v-text-field",{attrs:{id:"password",label:"Password",name:"password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("Увiйти")])],1)],1)],1)],1)],1)],1)],1)],1)},L=[],$=n("1da1"),N=(n("96cf"),{name:"Login",data:function(){return{form:{login:"",password:""}}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["AUTH_LOGIN"])),{},{submit:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.AUTH_LOGIN(e.form);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}})}),U=N,R=n("7496"),I=n("8336"),J=n("b0af"),P=n("99d9"),z=n("a523"),H=n("4bd4"),E=n("f6c4"),B=n("2fa4"),M=n("8654"),G=n("71d9"),K=Object(f["a"])(U,A,L,!1,null,null,null),q=K.exports;v()(K,{VApp:R["a"],VBtn:I["a"],VCard:J["a"],VCardActions:P["a"],VCardText:P["b"],VCol:b["a"],VContainer:z["a"],VForm:H["a"],VMain:E["a"],VRow:V["a"],VSpacer:B["a"],VTextField:M["a"],VToolbar:G["a"],VToolbarTitle:T["a"]});var D={name:"App",components:{Header:j,Login:q},computed:Object(o["a"])({},Object(l["c"])(["isAuthenticated"]))},F=D,W=(n("5c0b"),Object(f["a"])(F,a,i,!1,null,null,null)),Y=W.exports;v()(W,{VApp:R["a"],VMain:E["a"]});var Q=n("8c4f"),X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap",on:{wheel:function(t){return t.preventDefault(),e.zoomWheel.apply(null,arguments)}}},[n("div",{staticClass:"group-button"},[n("v-col",{staticClass:"flex"}),n("v-col",{staticClass:"tool-button d-flex justify-end mx-16"},[n("v-btn",{staticClass:"white--text mx-3",attrs:{color:"green darken-1",depressed:"",large:""},on:{click:function(t){return e.downloadJson(e.tree)}}},[e._v(" Завантажити "),n("v-icon",{attrs:{right:""}},[e._v(" mdi-content-save ")])],1),n("v-btn",{staticClass:"mx-2",attrs:{fab:"","x-small":"",color:"white"},on:{click:function(t){return e.resetTree()}}},[n("v-icon",{attrs:{color:"black",dark:""}},[e._v(" mdi-restore ")])],1)],1)],1),n("keep-alive",[n("vue-tree",{key:e.treeConfig.forceUpdateKey,ref:"tree",staticStyle:{width:"80vw",height:"90vh"},attrs:{dataset:e.tree,config:e.treeConfig,linkStyle:"straight",direction:"vertical","collapse-enabled":!0},scopedSlots:e._u([{key:"node",fn:function(t){var r=t.node,a=t.collapsed;return[n("v-card",{staticClass:"mx-6",style:{border:a?"2px solid grey":""},attrs:{"min-width":"400",outlined:"",shaped:"",color:r.children?r.children.length?"grey lighten-4":"":"grey lighten-4"}},[n("v-list-item",{staticClass:"body-card",attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"head-textarea text-h1 mb-1"},[n("v-textarea",{staticStyle:{"font-size":"65px","font-weight":"bold"},attrs:{"clear-icon":"mdi-close-circle",spellcheck:"false","no-resize":"","auto-grow":"",rows:"1"},on:{click:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()}},model:{value:r.name,callback:function(t){e.$set(r,"name",t)},expression:"node.name"}})],1),n("v-list-item-subtitle",{staticClass:"body-textarea m-1"},[n("v-textarea",{staticStyle:{"font-size":"30px"},attrs:{"no-resize":"","auto-grow":"",spellcheck:"false",rows:"3"},on:{click:function(e){e.stopPropagation()},mousedown:function(e){e.stopPropagation()}},model:{value:r.description,callback:function(t){e.$set(r,"description",t)},expression:"node.description"}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{dark:"",text:"",color:"error",rounded:""},on:{click:function(t){return t.stopPropagation(),e.deleteNode(e.tree,r.id)}}},[n("v-icon",{attrs:{large:"",dark:""}},[e._v("mdi-minus")])],1),n("v-btn",{staticClass:"rounded-plus",attrs:{dark:"",text:"",color:"success",large:""},on:{click:function(t){return t.stopPropagation(),e.addNode(r)}}},[n("v-icon",{attrs:{"x-large":""}},[e._v("mdi-plus")])],1)],1)],1)]}}])})],1)],1)},Z=[],ee=n("53ca"),te=n("b85c"),ne=(n("4de4"),n("7db0"),n("4ec9"),n("3ca3"),n("ddb0"),n("d81d"),function(e){var t=0;function n(e){var r,a=Object(te["a"])(e);try{for(a.s();!(r=a.n()).done;){var i,o=r.value;o.id>t&&(t=o.id),null!==(i=o.children)&&void 0!==i&&i.length&&n(o.children)}}catch(s){a.e(s)}finally{a.f()}}return n(e),t+1}),re=function(e,t){var n=JSON.parse(JSON.stringify(e));function r(e){var n;e.children=null===(n=e.children)||void 0===n?void 0:n.filter((function(e){var n;return null!==(n=e.children)&&void 0!==n&&n.length&&r(e),e.id!==t}))}return r(n),n},ae=function(e){var t=ne(e.children);return{id:t,name:"Заголовок ".concat(t),description:"",attachments:[],children:[]}},ie=function(e,t){var n=null;function r(e){var a;return null===(a=e.children)||void 0===a?void 0:a.find((function(e){e.id==t&&(n=e),r(e)}))}return r(e),n},oe=new Map([["options","children"],["children","options"]]);function se(e){if(null===e||"object"!==Object(ee["a"])(e))return e;if(Array.isArray(e))return e.map(se);var t={};for(var n in e){var r=oe.get(n)||n,a=e[n];"object"===Object(ee["a"])(a)&&(a=se(a)),t[r]=a}return t}var ce={name:"treemap",data:function(){return{tree:{},refTree:"",defaultTree:{},currentScale:1,treeConfig:{nodeWidth:600,nodeHeight:400,levelHeight:1200,forceUpdateKey:0},loading:!1}},created:function(){var e=this;this.getTree().then((function(t){e.tree=t,e.defaultTree=JSON.parse(JSON.stringify(t)),e.treeConfig.forceUpdateKey+=1,e.$nextTick((function(){e.restore()})),e.restore()}))},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["getTree","saveTree","downloadJson"])),{},{zoomOut:function(){this.$refs.tree.zoomOut(),this.currentScale=this.$refs.tree.currentScale},zoomIn:function(){this.$refs.tree.zoomIn(),this.currentScale=this.$refs.tree.currentScale},restore:function(){this.$refs.tree.setScale(.2),this.currentScale=.2},zoomWheel:function(e){return e.deltaY>0?this.zoomOut():this.zoomIn()},addNode:function(e){e.children.push(this.$refs.tree.addUniqueKey(ae(this.tree))),this.$refs.tree.draw()},deleteNode:function(e,t){this.tree=re(e,t),this.$refs.tree.draw()},resetTree:function(){var e=this;this.tree=JSON.parse(JSON.stringify(this.defaultTree)),this.$refs.tree.draw(),this.treeConfig.forceUpdateKey+=1,this.$nextTick((function(){e.restore()})),this.restore()}})},le=ce,ue=(n("7309"),n("a844")),de=Object(f["a"])(le,X,Z,!1,null,null,null),fe=de.exports;v()(de,{VBtn:I["a"],VCard:J["a"],VCardActions:P["a"],VCol:b["a"],VIcon:g["a"],VListItem:k["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VSpacer:B["a"],VTextarea:ue["a"]});var pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return Object.keys(e.tree).length?n("div",[n("v-card",[n("v-row",[n("v-col",{staticClass:"pa-0"},[n("v-sheet",{staticClass:"pa-6 primary lighten-2"},[n("v-text-field",{staticStyle:{width:"50%",margin:"0 auto"},attrs:{label:"По заголовку...","append-icon":e.caseSensitive?"mdi-alphabetical-variant":"mdi-alphabetical-off",dark:"",flat:"","solo-inverted":"","hide-details":"",clearable:"","clear-icon":"mdi-close-circle-outline"},on:{"click:append":function(t){e.caseSensitive=!e.caseSensitive}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1),n("v-row",{staticClass:"py-4 px-1",attrs:{justify:"space-between"}},[n("v-col",{attrs:{xs:"12",sm:"12",cols:"12",md:"5"}},[n("v-treeview",{attrs:{active:e.active,items:[e.tree],search:e.search,filter:e.filter,open:e.open,transition:"",activatable:""},on:{"update:active":function(t){e.active=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var r=t.item;return[n("v-icon",[e._v(" "+e._s("mdi-"+(0===r.id?"home-variant":r.children.length>0?"folder-network":"import"))+" ")])]}},{key:"label",fn:function(t){var r=t.item;return[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[n("div",{staticClass:"item-node w-40"},[n("span",{staticClass:"item-text text-truncate"},[e._v(" "+e._s(r.name)+" ")]),a||r.id==(!!e.selected&&e.selected.id)?n("div",e._l(e.icons,(function(t,i){return n("v-btn",{key:i,class:{"show-btns":a},attrs:{icon:""}},[n("v-icon",{class:{"show-btns":a},attrs:{color:t.color},on:{click:function(e){return e.stopPropagation(),t.handler(r)}}},[e._v(" "+e._s(t.icon)+" ")])],1)})),1):e._e(),e._v(" "+e._s(r.id)+" ")])]}}],null,!0)})]}}],null,!1,742723720)}),n("v-card-actions",{staticClass:"my-3"},[n("v-btn",{staticClass:"mx-2",attrs:{fab:"","x-small":"",color:"white"},on:{click:function(t){return e.resetTree()}}},[n("v-icon",{attrs:{color:"black",dark:""}},[e._v(" mdi-restore ")])],1),n("v-spacer"),n("v-btn",{staticClass:"white--text",attrs:{color:"green darken-1",depressed:""},on:{click:function(t){return e.downloadJson(e.tree)}}},[e._v(" Save "),n("v-icon",{attrs:{right:""}},[e._v(" mdi-content-save ")])],1)],1)],1),n("v-divider",{attrs:{vertical:""}}),n("v-col",{staticClass:"d-flex text-center justify-center"},[n("v-scroll-y-transition",{attrs:{mode:"out-in"}},[e.selected?n("v-card",{key:e.selected.id,staticClass:"pt-6 mx-auto",attrs:{flat:"","min-width":"300",width:"60%"}},[n("v-textarea",{attrs:{name:"input-7-4",label:"Заголовок",spellcheck:"false","no-resize":"","auto-grow":"",rows:"1"},model:{value:e.selected.name,callback:function(t){e.$set(e.selected,"name",t)},expression:"selected.name"}}),n("v-textarea",{attrs:{name:"input-7-4",label:"Опис",spellcheck:"false","no-resize":"","auto-grow":"",rows:"1"},model:{value:e.selected.description,callback:function(t){e.$set(e.selected,"description",t)},expression:"selected.description"}})],1):n("div",{staticClass:"\n\t\t\t\t\t\t\ttitle\n\t\t\t\t\t\t\tgrey--text\n\t\t\t\t\t\t\ttext--lighten-1\n\t\t\t\t\t\t\tfont-weight-light\n\t\t\t\t\t\t"},[e._v(" Виберiть текстовий вузол ")])],1)],1)],1)],1)],1):e._e()},ve=[],me=n("3835"),he={created:function(){var e=this;this.getTree().then((function(t){e.tree=t,e.defaultTree=JSON.parse(JSON.stringify(t))}))},data:function(){return{active:[],avatar:null,open:[0],users:[],search:null,tree:{},defaultTree:{},caseSensitive:!1,icons:[{icon:"mdi-source-branch-plus",color:"success",handler:this.appendChild},{icon:"mdi-trash-can",color:"red",handler:this.deleteChild}]}},computed:{filter:function(){return this.caseSensitive?function(e,t,n){return e[n].indexOf(t)>-1}:void 0},selected:function(){if(this.active.length){var e=Object(me["a"])(this.active,1),t=e[0];return ie(this.tree,t)}}},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["getTree","saveTree","downloadJson"])),{},{appendChild:function(e){e.children.push(ae(this.tree))},deleteChild:function(e){this.tree=re(this.tree,e.id)},resetTree:function(){this.tree=JSON.parse(JSON.stringify(this.defaultTree))}})},be=he,ge=(n("c477"),n("ce7e")),we=n("ce87"),xe=n("0789"),ke=n("8dd9"),ye=n("eb2a"),_e=Object(f["a"])(be,pe,ve,!1,null,"4d36a73e",null),Oe=_e.exports;v()(_e,{VBtn:I["a"],VCard:J["a"],VCardActions:P["a"],VCol:b["a"],VDivider:ge["a"],VHover:we["a"],VIcon:g["a"],VRow:V["a"],VScrollYTransition:xe["c"],VSheet:ke["a"],VSpacer:B["a"],VTextField:M["a"],VTextarea:ue["a"],VTreeview:ye["a"]});n("2b3d");var Ve=n("0e44"),Se=n("bc3a"),Te=n.n(Se),Ce={user:null},je={isAuthenticated:function(e){return!!e.user},StateUser:function(e){return e.user},userId:function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.id}},Ae={AUTH_LOGIN:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.prev=1,n.next=4,Te.a.post("/auth/login",t);case 4:return a=n.sent,console.log(a),n.next=8,r("SetUser",a.data);case 8:return Te.a.defaults.headers.common["x-access-token"]=a.data.token,Te.a.defaults.headers.common["Authorization"]="Bearer ".concat(a.data.token),Je.push({name:"TreeView"}),n.abrupt("return",!0);case 14:n.prev=14,n.t0=n["catch"](1),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[1,14]])})))()},AUTH_LOGOUT:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,r=null,n("LogOut",r);case 3:case"end":return t.stop()}}),t)})))()},AUTH_SETNAME:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.commit,r("SetName",t);case 2:case"end":return n.stop()}}),n)})))()}},Le={SetUser:function(e,t){e.user=t},SetName:function(e,t){e.user.username=t},LogOut:function(e){delete Te.a.defaults.headers.common["x-access-token"],delete Te.a.defaults.headers.common["Authorization"],e.user=null,e.token=null}},$e={state:Ce,getters:je,actions:Ae,mutations:Le};r["a"].use(l["a"]);var Ne=Object(Ve["a"])({paths:["auth"]}),Ue=new l["a"].Store({state:{},mutations:{},actions:{getTree:function(){return Object($["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Te.a.get("/dialog");case 2:return t=e.sent,e.abrupt("return",se(t.data,"options","children"));case 4:case"end":return e.stop()}}),e)})))()},saveTree:function(){return Object($["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(!0)}),10)})));case 1:case"end":return e.stop()}}),e)})))()},downloadJson:function(e,t){var n=e.commit;console.log(n);var r=JSON.stringify(t),a=new Blob([r],{type:"application/json"}),i=window.URL.createObjectURL(a),o=document.createElement("a");o.href=i,o.download="Dialog Tree.json",o.click(),window.URL.revokeObjectURL(i)}},modules:{auth:$e},plugins:[Ne]});r["a"].use(Q["a"]);var Re=[{path:"/tree",name:"TreeView",component:fe,meta:{requiresAuth:!0}},{path:"/folder-tree",name:"FolderTree",component:Oe,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:q,meta:{isAuth:!0}}],Ie=new Q["a"]({mode:"history",base:"/admin-crm/",routes:Re});Ie.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuth}))){if(Ue.getters.isAuthenticated)return void n();n("/login")}else n();if(e.matched.some((function(e){return e.meta.isAuth}))){if(Ue.getters.isAuthenticated)return Ie.push({name:"TreeView"}).catch((function(){}));n()}}));var Je=Ie,Pe=n("f309");r["a"].use(Pe["a"]);var ze={},He=new Pe["a"](ze),Ee=n("f6cc"),Be=n.n(Ee),Me=Ue.state.auth.user;Me&&null!==Me&&void 0!==Me&&Me.token&&(Te.a.defaults.headers.common["x-access-token"]=Me.token,Te.a.defaults.headers.common["Authorization"]="Bearer ".concat(Me.token)),Te.a.defaults.withCredentials=!0,Te.a.defaults.baseURL="http://164.90.190.73:5000/",Te.a.interceptors.response.use((function(e){return e}),(function(e){if(e){var t=e.config;return 401!==e.response.status&&400!==e.response.status||t._retry||(console.log(e.response,t,"error"),t._retry=!0,Ue.dispatch("AUTH_LOGOUT"),Je.push("/login")),console.log(e.response," - error"),Promise.reject(e)}})),r["a"].component("vue-tree",Be.a),r["a"].config.productionTip=!1,new r["a"]({router:Je,store:Ue,vuetify:He,render:function(e){return e(Y)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},7309:function(e,t,n){"use strict";n("a379")},"9c0c":function(e,t,n){},a379:function(e,t,n){},b885:function(e,t,n){},c477:function(e,t,n){"use strict";n("b885")}});
//# sourceMappingURL=app.f81418b7.js.map